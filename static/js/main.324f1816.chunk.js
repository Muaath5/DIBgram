(this.webpackJsonpdibgram=this.webpackJsonpdibgram||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),i=n(11),r=n.n(i),o=n(1),c=n.n(o),u=n(5),d=n(3),l=n(4),h=n(7),p=n(6),j=n(8),b=n(10),v=n(12),f=n.n(v);var m=Object(b.a)("tdClient"),O=Object(b.a)("updateHandlers"),g=function(){function e(){Object(d.a)(this,e)}return Object(l.a)(e,null,[{key:"initializeTdLib",value:function(){var t=Object(u.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={use_test_dc:!1,log:{log_updates:!1,log_queries:!1}}.log,Object(j.a)(e,m)[m]=new f.a({useDatabase:!0,onUpdate:function(t){n.log_updates&&console.log("Update: ",t),Object(j.a)(e,O)[O][t["@type"]]&&Object(j.a)(e,O)[O][t["@type"]].forEach((function(e){return e(t)}))}}),t.next=4,e.sendRequest({"@type":"getAuthorizationState"});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"registerUpdateHandler",value:function(t,n){void 0===Object(j.a)(e,O)[O][t]&&(Object(j.a)(e,O)[O][t]=[]),Object(j.a)(e,O)[O][t].push(n)}},{key:"sendRequest",value:function(t){return{use_test_dc:!1,log:{log_updates:!1,log_queries:!1}}.log.log_queries&&console.log("Query: ",t),Object(j.a)(e,m)[m].send(t)}}]),e}();Object.defineProperty(g,m,{writable:!0,value:void 0}),Object.defineProperty(g,O,{writable:!0,value:{}}),g.registerUpdateHandler("updateAuthorizationState",(function(e){var t={api_id:3022678,api_hash:"d7b7676a82906a6182f4a5e5e9555673"},n=e.authorization_state;"authorizationStateWaitEncryptionKey"===n["@type"]&&g.sendRequest({"@type":"checkDatabaseEncryptionKey",encryption_key:""}),"authorizationStateWaitTdlibParameters"===n["@type"]&&g.sendRequest({"@type":"setTdlibParameters",parameters:{database_directory:"tdlib",use_message_database:!0,use_secret_chats:!0,api_id:t.api_id,api_hash:t.api_hash,system_language_code:"en",device_model:"Web",application_version:"0.0.1",enable_storage_optimizer:!0,use_test_dc:!1}})}));var x=function(){function e(){Object(d.a)(this,e)}return Object(l.a)(e,null,[{key:"givePhoneNumber",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sendRequest({"@type":"setAuthenticationPhoneNumber",phone_number:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkAuthCode",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sendRequest({"@type":"checkAuthenticationCode",code:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"check2FACode",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sendRequest({"@type":"checkAuthenticationPassword",password:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerNewAccount",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sendRequest({"@type":"registerUser",first_name:t,last_name:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),y=n(0);function C(){return Object(y.jsx)("div",{children:"This is messenger window. You've authenticated successfully!"})}function w(e){return Object(y.jsx)("button",{className:"big-highlighted-button",onClick:e.onClick,children:e.children})}var N=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleFocus=function(){a.setState({inactive:!1,titleClass:a.getTitleClass(!0)})},a.handleBlur=function(){a.setState({inactive:!0,mouseX:"50%",titleClass:a.getTitleClass(!1)})},a.handleMouseDown=function(e){a.setState({mouseX:e.nativeEvent.offsetX+"px"})},a.handleKeyDown=function(e){"Enter"==e.key&&a.props.onEnterKeyPressed&&a.props.onEnterKeyPressed()},a.state={inactive:!1,mouseX:"50%",titleClass:a.getTitleClass(a.props.autoFocus)},a}return Object(l.a)(n,[{key:"getTitleClass",value:function(e){return e||this.props.value?"title top":"title placeholder"}},{key:"render",value:function(){var e=this,t="underlined-input";return this.state.inactive&&(t+=" inactive"),this.props.autoFocus&&(t+=" autoFocus"),this.props.invalid&&(t+=" invalid"),Object(y.jsxs)("div",{className:t,style:{"--mouse-left":this.state.mouseX||"50%"},children:[this.props.title?Object(y.jsx)("div",{className:this.state.titleClass,children:this.props.title}):null,Object(y.jsx)("input",{type:this.props.type,onChange:this.props.onChange,value:this.props.value,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:this.props.autoFocus||!1,onKeyDown:this.handleKeyDown,maxLength:this.props.maxLength,onCopy:function(t){e.props.disableCopy&&t.preventDefault()}}),Object(y.jsx)("div",{className:"underline"})]})}}]),n}(s.a.Component),S={"@type":void 0};function _(e){S=e}var F=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={step:S},_=function(e){a.setState({step:e})},g.registerUpdateHandler("updateAuthorizationState",(function(e){var t=e.authorization_state;["authorizationStateWaitPhoneNumber","authorizationStateWaitCode","authorizationStateWaitPassword","authorizationStateWaitRegistration","authorizationStateReady","authorizationStateClosed"].includes(t["@type"])&&a.setState({step:t})})),a}return Object(l.a)(n,[{key:"render",value:function(){switch(this.state.step["@type"]){case"authorizationStateWaitPhoneNumber":return Object(y.jsx)(k,{});case"authorizationStateWaitCode":return Object(y.jsx)(P,{info:this.state.step.code_info});case"authorizationStateWaitPassword":return Object(y.jsx)(z,{info:this.state.step});case"authorizationStateWaitRegistration":return Object(y.jsx)(A,{});case"authorizationStateReady":return Object(y.jsx)(C,{});case"authorizationStateClosed":return Object(y.jsx)("p",{children:"This session is closed."});default:return Object(y.jsx)("p",{children:"Loading..."})}}}]),n}(s.a.Component),k=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handlePNFieldChange=function(e){a.setState({number:e.target.value})},a.submitNumber=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.givePhoneNumber(a.state.number).catch((function(e){a.setState({textUnderField:e.message})}));case 1:case"end":return e.stop()}}),e)}))),a.state={number:""},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{id:"auth",className:"auth-step-phoneNumber",children:[Object(y.jsx)("h2",{children:"Your Phone Number"}),Object(y.jsx)("p",{className:"description",children:"Please confirm your country code and enter your mobile phone number."}),Object(y.jsx)(N,{type:"text",value:this.state.number,autoFocus:!0,onChange:this.handlePNFieldChange,onEnterKeyPressed:this.submitNumber}),Object(y.jsx)("div",{className:"status",children:this.state.textUnderField||Object(y.jsx)("span",{children:"\xa0"})}),Object(y.jsx)(w,{onClick:this.submitNumber,children:"NEXT"})]})}}]),n}(s.a.Component),P=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleCodeFieldChange=function(e){a.setState({code:e.target.value,invalid:!1}),e.target.value.length==a.props.info.type.length&&a.handleContinueButton(e.target.value)},a.handleContinueButton=function(e){"string"!=typeof e&&(e=void 0),(e=e||a.state.code).length==a.props.info.type.length&&x.checkAuthCode(e).catch((function(e){"PHONE_CODE_INVALID"===e.message?a.setState({textUnderField:"You have entered an invalid code.",invalid:!0}):a.setState({textUnderField:e.message,invalid:!0})}))},a.state={code:"",invalid:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var e="authenticationCodeTypeSms"==this.props.info.type["@type"]?Object(y.jsxs)("p",{className:"description",children:["A code was sent ",Object(y.jsx)("strong",{children:"via SMS"})," to your phone number."]}):Object(y.jsxs)("p",{className:"description",children:["A code was sent ",Object(y.jsx)("strong",{children:"via Telegram"})," to your other devices, if you have any connected."]});return Object(y.jsxs)("div",{id:"auth",className:"auth-step-code",children:[Object(y.jsx)("h2",{children:this.props.info.phone_number}),e,Object(y.jsx)(N,{type:"text",value:this.state.code,onChange:this.handleCodeFieldChange,autoFocus:!0,title:"Code",maxLength:this.props.info.type.length,onEnterKeyPressed:this.handleContinueButton,invalid:this.state.invalid}),Object(y.jsx)("div",{className:"status",children:this.state.textUnderField||""}),Object(y.jsx)(w,{onClick:this.handleContinueButton,children:"NEXT"})]})}}]),n}(s.a.Component),z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handlePasswordFieldChange=function(e){a.setState({password:e.target.value,invalid:!1})},a.handleContinueButton=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.check2FACode(a.state.password).catch((function(e){"PASSWORD_HASH_INVALID"==e.message?a.setState({textUnderField:"You have entered a wrong password.",invalid:!0}):a.setState({textUnderField:e.message,invalid:!0})}));case 1:case"end":return e.stop()}}),e)}))),a.state={password:"",invalid:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{id:"auth",className:"auth-step-password",children:Object(y.jsxs)("div",{className:"content",children:[Object(y.jsx)("h2",{children:"Cloud password check"}),Object(y.jsx)("p",{className:"description",children:"Please enter your cloud password."}),Object(y.jsx)(N,{type:"text",value:this.state.password,onChange:this.handlePasswordFieldChange,autoFocus:!0,title:"Your cloud password",onEnterKeyPressed:this.handleContinueButton,disableCopy:!0,invalid:this.state.invalid}),Object(y.jsxs)("div",{className:"hint",children:["Hint: ",this.props.info.password_hint]}),Object(y.jsx)("div",{className:"forgot-password",children:Object(y.jsx)("a",{href:"#",children:"Forgot password?"})}),Object(y.jsx)("div",{className:"status",children:this.state.textUnderField||Object(y.jsx)("i",{children:"\xa0"})}),Object(y.jsx)(w,{onClick:this.handleContinueButton,children:"SUBMIT"})]})})}}]),n}(s.a.Component),A=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleFirstNameFieldChange=function(e){a.setState({firstName:e.target.value})},a.handleLastNameFieldChange=function(e){a.setState({lastName:e.target.value})},a.handleContinueButton=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.registerNewAccount(a.state.firstName,a.state.lastName).catch((function(e){a.setState({textUnderField:e.message})}));case 2:case"end":return e.stop()}}),e)}))),a.state={firstName:"",lastName:""},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{id:"auth",className:"auth-step-signup",children:Object(y.jsxs)("div",{className:"content",children:[Object(y.jsx)("h2",{children:"Your info"}),Object(y.jsx)("p",{className:"description",children:"Please enter your name and upload a photo."}),Object(y.jsx)(N,{type:"text",value:this.state.firstName,onChange:this.handleFirstNameFieldChange,autoFocus:!0}),Object(y.jsx)(N,{type:"text",value:this.state.lastName,onChange:this.handleLastNameFieldChange}),Object(y.jsx)("div",{className:"status",children:this.state.textUnderField||""}),Object(y.jsx)(w,{onClick:this.handleContinueButton,children:"SIGN UP"})]})})}}]),n}(s.a.Component);n(19);g.initializeTdLib().then((function(e){_(e)}));var U=function(){return Object(y.jsx)("div",{"data-theme":"classic",id:"app",children:Object(y.jsx)(F,{})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(U,{})}),document.getElementById("root")),T()}},[[20,1,2]]]);
//# sourceMappingURL=main.324f1816.chunk.js.map